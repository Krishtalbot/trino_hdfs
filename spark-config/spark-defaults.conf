# Spark configuration for Iceberg with REST catalog
spark.sql.extensions=org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions
spark.sql.catalog.spark_catalog=org.apache.iceberg.spark.SparkSessionCatalog
spark.sql.catalog.spark_catalog.type=rest
spark.sql.catalog.spark_catalog.uri=http://iceberg-rest:8181
spark.sql.catalog.spark_catalog.warehouse=hdfs://namenode:9000/warehouse/iceberg

# REST catalog for Iceberg
spark.sql.catalog.iceberg_rest=org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.iceberg_rest.type=rest
spark.sql.catalog.iceberg_rest.uri=http://iceberg-rest:8181
spark.sql.catalog.iceberg_rest.warehouse=hdfs://namenode:9000/warehouse/iceberg

# Hadoop configuration
spark.hadoop.fs.defaultFS=hdfs://namenode:9000
spark.hadoop.fs.hdfs.impl=org.apache.hadoop.hdfs.DistributedFileSystem

# Serialization
spark.serializer=org.apache.spark.serializer.KryoSerializer

# Iceberg JARs (these need to be available in the classpath)
spark.jars.packages=org.apache.iceberg:iceberg-spark-runtime-3.4_2.12:1.4.2,org.apache.hadoop:hadoop-aws:3.3.4

# Memory settings
spark.driver.memory=2g
spark.executor.memory=2g
